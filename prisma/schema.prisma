generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  directUrl         = env("DIRECT_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Notion {
  id               Int              @id @default(autoincrement())
  databases        NotionDatabase[]
  pages            NotionPage[]
  block            NotionBlock[]
  userId           String           @unique
  notionDatabaseId Int
  notionPageId     Int
}

model Waka {
  id         Int    @id @default(autoincrement())
  wakaApiKey String @unique
  userId     String @unique
}

model NotionDatabase {
  id         Int     @id @default(autoincrement())
  isEnable   Boolean @default(true)
  databaseId String
  title      String
  Notion     Notion? @relation(fields: [notionId], references: [id])
  notionId   Int?
}

model NotionBlock {
  id         Int     @id @default(autoincrement())
  isEnable   Boolean @default(true)
  databaseId String
  title      String
  Notion     Notion? @relation(fields: [notionId], references: [id])
  notionId   Int?
}

model NotionPage {
  id       Int     @id @default(autoincrement())
  isEnable Boolean @default(true)
  pageId   String
  Notion   Notion? @relation(fields: [notionId], references: [id])
  notionId Int?
}
